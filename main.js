!function(){"use strict";var e={d:function(t,s){for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b:function(){return O}});class t{constructor(e,t,s,r){this._text=e.name,this._link=e.link,this._alt=e.name,this._likes=e.likes,this._likesNum=e.likes.length,this._userId=e.userID,this._ownerId=e.owner._id,this._photoId=e._id,this._cardTemplate=document.querySelector("#elements-item").content.querySelector(t),this._cardSelector=t,this._handleCardClick=s,this._handleLike=r}_checkIfLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._likeDgt=this._element.querySelector(".elements__like-number"),this._likeDgt.textContent=this._likesNum,this._checkIfLiked()?this._likeBtn.classList.add("elements__like-button_pressed"):this._likeBtn.classList.remove("elements__like-button_pressed")}_toggleLikeBtn(){this._likeBtn.classList.toggle("elements__like-button_pressed")}_addEventListeners(){this._likeBtn.addEventListener("click",(()=>{this._toggleLikeBtn(),this._handleLike()})),this._deleteBtn.addEventListener("click",(e=>{O.id=this._photoId,O.open(),O.removeElement=()=>{this._element.remove(),this._element=null}})),this._image.addEventListener("click",(()=>{this._handleCardClick()}))}updateLikes(e){this._likes=e,this._likesNum=e.length,this._renderLikes()}createCard(){return this._element=this._cardTemplate.cloneNode(!0),this._likeBtn=this._element.querySelector(".elements__like-button"),this._deleteBtn=this._element.querySelector(".elements__delete-button"),this._ownerId!==this._userId&&this._deleteBtn.remove(),this._renderLikes(),this._image=this._element.querySelector(".elements__img"),this._image.src=this._link,this._image.alt=this._alt,this._element.querySelector(".elements__title").textContent=this._text,this._addEventListeners(),this._element}}class s{constructor(e,t){this._settings=e,this._form=t}_checkValidity(e){e.validity.valid?this._hideError(e):this._showError(e)}_toggleButtonState(){this._inputs.every((e=>e.validity.valid))?(this._button.disabled=!1,this._button.classList.remove(this._settings.inactiveButtonClass)):(this._button.disabled=!0,this._button.classList.add(this._settings.inactiveButtonClass))}_showError(e){const t=e.validationMessage;this._form.querySelector(`#${e.id}-error`).textContent=t,e.classList.add(this._settings.inputErrorClass)}_hideError(e){this._form.querySelector(`#${e.id}-error`).textContent="",e.classList.remove(this._settings.inputErrorClass)}resetValidation(){this._toggleButtonState(),this._inputs.forEach((e=>{this._hideError(e)}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._inputs=[...this._form.querySelectorAll(this._settings.inputSelector)],this._button=this._form.querySelector(this._settings.submitButtonSelector),this._inputs.forEach((e=>{e.addEventListener("input",(t=>{this._checkValidity(e),this._toggleButtonState()}))})),this.resetValidation()}}class r{constructor(e){this._popup=document.querySelector(e)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_closeOnClickOutside=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._popup.querySelector(".modal__close").addEventListener("click",this.close),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._closeOnClickOutside)}open(){this.setEventListeners(),this._popup.classList.add("modal_open")}close=()=>{this._popup.querySelector(".modal__close").removeEventListener("click",this.close),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._closeOnClickOutside),this._popup.classList.remove("modal_open")}}class i extends r{constructor(e,t){super(e),this._handleSubmit=t,this._formElement=this._popup.querySelector(".modal__form")}_getInputValues(){const e=[...this._formElement.querySelectorAll(".modal__input")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}_submitCallback=e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())};setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",this._submitCallback)}close(){super.close(),this._formElement.reset(),this._formElement.removeEventListener("submit",this._submitCallback)}}const n={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};function o(e,t){t.textContent=e?"Saving...":"Save"}const l=document.querySelector(".profile__info-edit"),a=document.querySelector(".profile__add-button"),_=document.querySelector(".profile__avatar"),d=document.querySelector(".modal_type_edit-profile"),c=document.querySelector(".modal_type_add-card"),h=document.querySelector(".modal_type_change-avatar"),u=c.querySelector(".modal__form"),m=d.querySelector(".modal__form"),p=h.querySelector(".modal__form"),f=document.querySelector(".modal__input_field_title"),k=document.querySelector(".modal__input_field_image-link"),b=document.querySelector(".modal__input_field_name"),g=document.querySelector(".modal__input_field_profession"),y=document.querySelector(".profile__title"),E=document.querySelector(".profile__subtitle"),v=document.querySelector(".profile__avatar"),S=document.querySelector(".elements");let C;const L=new class{constructor(e){this._headers=e.headers,this._baseUrl=e.baseUrl}_getResponseData(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._getResponseData)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._getResponseData)}editProfile(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._getResponseData)}addCardApi(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._getResponseData)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._getResponseData)}like(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:this._headers}).then(this._getResponseData)}unlike(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:this._headers}).then(this._getResponseData)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._getResponseData)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"e0cd9749-f008-4064-bc64-61e9ac8b0f57","Content-Type":"application/json"}});L.getUserInfo().then((e=>{y.textContent=e.name,E.textContent=e.about,v.src=e.avatar,C=e._id})).catch((e=>console.log(`Error.....: ${e}`)));const q={nameSelector:y,jobSelector:E},I=new class{constructor(e){this._name=e.nameSelector,this._job=e.jobSelector}setUserInfo(e){this._name.textContent=e.name,this._job.textContent=e.about}getUserInfo(){return{name:this._name.textContent,job:this._job.textContent}}}(q),w=new s(n,u);w.enableValidation();const $=new s(n,m);$.enableValidation(),new s(n,p).enableValidation();const x=new class extends r{open(e){this._popup.querySelector(".modal__image").src=e.link,this._popup.querySelector(".modal__image").alt=e.name,this._popup.querySelector(".modal__caption").textContent=e.name,super.open()}}(".modal_img"),B=new i(".modal_type_add-card",(e=>{const t=B._formElement.lastElementChild;o(!0,t);const s={name:f.value,link:k.value};L.addCardApi(s).then((e=>{B.close(),V.addItemStart(j(e))})).catch((e=>console.log(`Error.....: ${e}`))).finally((()=>o(!1,t)))})),U=new i(".modal_type_edit-profile",(e=>{const t=U._formElement.lastElementChild;o(!0,t);const s={name:e.name,about:e.profession};y.textContent=s.name,E.textContent=s.about,I.setUserInfo(s),L.editProfile(s).then((()=>U.close())).catch((e=>console.log(`Error.....: ${e}`))).finally((()=>o(!1,t)))})),D=new i(".modal_type_change-avatar",(e=>{const t=D._formElement.lastElementChild;o(!0,t),L.updateAvatar(e).then((()=>D.close())).catch((e=>console.log(`Error.....: ${e}`))).finally((()=>o(!1,t)))})),O=new i(".modal_type_delete-card",(e=>{L.deleteCard(O.id).then((()=>{O.close(),O.removeElement()})).catch((e=>console.log(`Error.....: ${e}`))).finally(O.close())}));function j(e){e.userID=C;const s=new t(e,".elements__item",(()=>{x.open(e)}),(()=>{s._checkIfLiked()?L.unlike(e._id).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log(`Error.....: ${e}`))):L.like(e._id).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log(`Error.....: ${e}`)))}));return s.createCard()}_.addEventListener("click",(()=>{D.open()})),l.addEventListener("click",(()=>{const e=I.getUserInfo();b.value=e.name,g.value=e.job,U.open(),$.resetValidation()})),a.addEventListener("click",(()=>{B.open(),w.resetValidation()})),L.getInitialCards().then((e=>{V.render(e)})).catch((e=>console.log(`Error.....: ${e}`)));const V=new class{constructor({items:e,renderer:t},s){this._items=e,this._renderer=t,this._cardSelector=s}render(e){e.forEach(this._renderer)}addItem(e){this._cardSelector.append(e)}addItemStart(e){this._cardSelector.prepend(e)}}({renderer:e=>{V.addItem(j(e))}},S)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWM0SyxRQUFRRixLSmlMN0IsQ0FDRUosU0FBVzlMLElBQ1RrTCxFQUFTZSxRQUFRYixFQUFhcEwsTUFHbEM4SCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImltcG9ydCB7IGRlbGV0ZUNhcmRNb2RhbCB9IGZyb20gXCIuLi9wYWdlcy9pbmRleC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW0sIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlKSB7XG4gICAgdGhpcy5fdGV4dCA9IGl0ZW0ubmFtZTtcbiAgICB0aGlzLl9saW5rID0gaXRlbS5saW5rO1xuICAgIHRoaXMuX2FsdCA9IGl0ZW0ubmFtZTtcbiAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XG4gICAgdGhpcy5fbGlrZXNOdW0gPSBpdGVtLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl91c2VySWQgPSBpdGVtLnVzZXJJRDtcbiAgICB0aGlzLl9vd25lcklkID0gaXRlbS5vd25lci5faWQ7XG4gICAgdGhpcy5fcGhvdG9JZCA9IGl0ZW0uX2lkO1xuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIiNlbGVtZW50cy1pdGVtXCIpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKGNhcmRTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlID0gaGFuZGxlTGlrZTtcbiAgfVxuXG4gIF9jaGVja0lmTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgX3JlbmRlckxpa2VzKCkge1xuICAgIHRoaXMuX2xpa2VEZ3QgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtbnVtYmVyXCIpO1xuICAgIHRoaXMuX2xpa2VEZ3QudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlc051bTtcbiAgICBjb25zdCBpc0xpa2VkID0gdGhpcy5fY2hlY2tJZkxpa2VkKCk7XG4gICAgaWYgKGlzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9wcmVzc2VkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50c19fbGlrZS1idXR0b25fcHJlc3NlZFwiKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlTGlrZUJ0bigpIHtcbiAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50c19fbGlrZS1idXR0b25fcHJlc3NlZFwiKTtcbiAgfVxuXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl90b2dnbGVMaWtlQnRuKCk7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBkZWxldGVDYXJkTW9kYWwuaWQgPSB0aGlzLl9waG90b0lkO1xuICAgICAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oKTtcbiAgICAgIGNvbnN0IF9yZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIH07XG4gICAgICBkZWxldGVDYXJkTW9kYWwucmVtb3ZlRWxlbWVudCA9IF9yZW1vdmVFbGVtZW50O1xuICAgIH0pO1xuXG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTGlrZXMoZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YTtcbiAgICB0aGlzLl9saWtlc051bSA9IGRhdGEubGVuZ3RoO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH1cblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2xpa2VCdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKTtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdG4ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcblxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWdcIik7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9hbHQ7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XG5cbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm0pIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICB9XG5cbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLl9pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG5cbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93RXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvciA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3I7XG5cbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUVycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faW5wdXRzID0gW1xuICAgICAgLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxuICAgIF07XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZXNldFZhbGlkYXRpb24oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBfY2xvc2VPbkNsaWNrT3V0c2lkZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9jbG9zZU9uQ2xpY2tPdXRzaWRlKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuXCIpO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fcG9wdXBcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKVxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9jbG9zZU9uQ2xpY2tPdXRzaWRlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlblwiKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBfc3VibWl0Q2FsbGJhY2sgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdENhbGxiYWNrKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdENhbGxiYWNrKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJMYXRlbWFyXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxuLy8gICB9LFxuLy8gXTtcbiIsImV4cG9ydCBmdW5jdGlvbiByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgYnV0dG9uKSB7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IGlzTG9hZGluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmVcIjtcbn1cbiIsImltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7IHJlbmRlckxvYWRpbmcgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm8tZWRpdFwiKTtcbmNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2VkaXQtcHJvZmlsZVwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9hZGQtY2FyZFwiKTtcbmNvbnN0IGVkaXRBdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9jaGFuZ2UtYXZhdGFyXCIpO1xuXG5jb25zdCBhZGRDYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgZWRpdEF2YXRhckZvcm0gPSBlZGl0QXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcblxuY29uc3QgY2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXRfZmllbGRfdGl0bGVcIik7XG5jb25zdCBjYXJkTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X2ZpZWxkX2ltYWdlLWxpbmtcIik7XG5cbmNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X2ZpZWxkX25hbWVcIik7XG5jb25zdCBpbnB1dEpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X2ZpZWxkX3Byb2Zlc3Npb25cIik7XG5cbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5jb25zdCBwcm9maWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIpO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuXG5jb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cbmxldCB1c2VySUQ7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiZTBjZDk3NDktZjAwOC00MDY0LWJjNjQtNjFlOWFjOGIwZjU3XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICB1c2VySUQgPSBkYXRhLl9pZDtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XG5cbmNvbnN0IHVzZXIgPSB7XG4gIG5hbWVTZWxlY3RvcjogcHJvZmlsZVRpdGxlLFxuICBqb2JTZWxlY3RvcjogcHJvZmlsZVN1YnRpdGxlLFxufTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlcik7XG5cbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGFkZENhcmRGb3JtKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGVkaXRQcm9maWxlRm9ybSk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBlZGl0QXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBlZGl0QXZhdGFyRm9ybSk7XG5lZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tTW9kYWxzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgaW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF9pbWdcIik7XG5cbmNvbnN0IG5ld0FkZENhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLm1vZGFsX3R5cGVfYWRkLWNhcmRcIiwgKGRhdGEpID0+IHtcbiAgY29uc3QgYWRkU3VibWl0QnRuID0gbmV3QWRkQ2FyZE1vZGFsLl9mb3JtRWxlbWVudC5sYXN0RWxlbWVudENoaWxkO1xuICByZW5kZXJMb2FkaW5nKHRydWUsIGFkZFN1Ym1pdEJ0bik7XG5cbiAgY29uc3Qgc3VibWl0T2JqZWN0ID0geyBuYW1lOiBjYXJkVGl0bGUudmFsdWUsIGxpbms6IGNhcmRMaW5rLnZhbHVlIH07XG4gIGFwaVxuICAgIC5hZGRDYXJkQXBpKHN1Ym1pdE9iamVjdClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbmV3QWRkQ2FyZE1vZGFsLmNsb3NlKCk7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtU3RhcnQoZ2VuZXJhdGVDYXJkKGRhdGEpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpXG4gICAgLmZpbmFsbHkoKCkgPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgYWRkU3VibWl0QnRuKSk7XG59KTtcblxuY29uc3QgbmV3RWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX2VkaXQtcHJvZmlsZVwiLFxuICAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGVkaXRTdWJtaXRCdG4gPSBuZXdFZGl0UHJvZmlsZU1vZGFsLl9mb3JtRWxlbWVudC5sYXN0RWxlbWVudENoaWxkO1xuICAgIHJlbmRlckxvYWRpbmcodHJ1ZSwgZWRpdFN1Ym1pdEJ0bik7XG4gICAgY29uc3QgdXNlciA9IHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5wcm9mZXNzaW9uIH07XG4gICAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xuICAgIHByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlcik7XG4gICAgYXBpXG4gICAgICAuZWRpdFByb2ZpbGUodXNlcilcbiAgICAgIC50aGVuKCgpID0+IG5ld0VkaXRQcm9maWxlTW9kYWwuY2xvc2UoKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpXG4gICAgICAuZmluYWxseSgoKSA9PiByZW5kZXJMb2FkaW5nKGZhbHNlLCBlZGl0U3VibWl0QnRuKSk7XG4gIH1cbik7XG5cbmNvbnN0IG5ld0VkaXRBdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX2NoYW5nZS1hdmF0YXJcIixcbiAgKGRhdGEpID0+IHtcbiAgICBjb25zdCBhdmF0YXJTdWJtaXRCdG4gPSBuZXdFZGl0QXZhdGFyTW9kYWwuX2Zvcm1FbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQ7XG4gICAgcmVuZGVyTG9hZGluZyh0cnVlLCBhdmF0YXJTdWJtaXRCdG4pO1xuICAgIGFwaVxuICAgICAgLnVwZGF0ZUF2YXRhcihkYXRhKVxuICAgICAgLnRoZW4oKCkgPT4gbmV3RWRpdEF2YXRhck1vZGFsLmNsb3NlKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKVxuICAgICAgLmZpbmFsbHkoKCkgPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgYXZhdGFyU3VibWl0QnRuKSk7XG4gIH1cbik7XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIubW9kYWxfdHlwZV9kZWxldGUtY2FyZFwiLFxuICAoZGF0YSkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoZGVsZXRlQ2FyZE1vZGFsLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWxldGVDYXJkTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLnJlbW92ZUVsZW1lbnQoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKVxuICAgICAgLmZpbmFsbHkoZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKCkpO1xuICB9XG4pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUV2ZW50IGxpc3RlbmVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5hdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbmV3RWRpdEF2YXRhck1vZGFsLm9wZW4oKTtcbn0pO1xuXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XG4gIGlucHV0Sm9iLnZhbHVlID0gZGF0YS5qb2I7XG4gIG5ld0VkaXRQcm9maWxlTW9kYWwub3BlbigpO1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbmV3QWRkQ2FyZE1vZGFsLm9wZW4oKTtcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Jbml0aWFsLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcbiAgaXRlbS51c2VySUQgPSB1c2VySUQ7XG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcbiAgICBpdGVtLFxuICAgIFwiLmVsZW1lbnRzX19pdGVtXCIsXG4gICAgKCkgPT4ge1xuICAgICAgaW1hZ2VNb2RhbC5vcGVuKGl0ZW0pO1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgY2hlY2sgPSBuZXdDYXJkLl9jaGVja0lmTGlrZWQoKTtcbiAgICAgIGlmICghY2hlY2spIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmxpa2UoaXRlbS5faWQpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIG5ld0NhcmQudXBkYXRlTGlrZXMoZGF0YS5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC51bmxpa2UoaXRlbS5faWQpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIG5ld0NhcmQudXBkYXRlTGlrZXMoZGF0YS5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcbn1cblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIGNhcmRMaXN0LnJlbmRlcihkYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oZ2VuZXJhdGVDYXJkKGl0ZW0pKTtcbiAgICB9LFxuICB9LFxuICBlbGVtZW50c1xuKTtcbiIsImV4cG9ydCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICB9XG5cbiAgX2dldFJlc3BvbnNlRGF0YShyZXMpIHtcbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUodXNlcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcbiAgfVxuXG4gIGFkZENhcmRBcGkoY2FyZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZCksXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChwaG90b0lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7cGhvdG9JZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcbiAgfVxuXG4gIGxpa2UocGhvdG9JZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke3Bob3RvSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSk7XG4gIH1cblxuICB1bmxpa2UocGhvdG9JZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke3Bob3RvSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSk7XG4gIH1cblxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGF2YXRhciksXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih1c2VyKSB7XG4gICAgdGhpcy5fbmFtZSA9IHVzZXIubmFtZVNlbGVjdG9yO1xuICAgIHRoaXMuX2pvYiA9IHVzZXIuam9iU2VsZWN0b3I7XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCwgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4oZGF0YSkge1xuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlcihkYXRhKSB7XG4gICAgZGF0YS5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3Rvci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhZGRJdGVtU3RhcnQoZWxlbWVudCkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3Rvci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJpdGVtIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZSIsInRoaXMiLCJfdGV4dCIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiX2xpa2VzIiwibGlrZXMiLCJfbGlrZXNOdW0iLCJsZW5ndGgiLCJfdXNlcklkIiwidXNlcklEIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9waG90b0lkIiwiX2NhcmRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlIiwiX2NoZWNrSWZMaWtlZCIsInNvbWUiLCJfcmVuZGVyTGlrZXMiLCJfbGlrZURndCIsIl9lbGVtZW50IiwidGV4dENvbnRlbnQiLCJfbGlrZUJ0biIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIl90b2dnbGVMaWtlQnRuIiwidG9nZ2xlIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdG4iLCJlIiwiZGVsZXRlQ2FyZE1vZGFsIiwiaWQiLCJvcGVuIiwicmVtb3ZlRWxlbWVudCIsIl9pbWFnZSIsInVwZGF0ZUxpa2VzIiwiZGF0YSIsImNyZWF0ZUNhcmQiLCJjbG9uZU5vZGUiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtIiwiX3NldHRpbmdzIiwiX2Zvcm0iLCJfY2hlY2tWYWxpZGl0eSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0cyIsImV2ZXJ5IiwiX2J1dHRvbiIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwiX2Nsb3NlT25DbGlja091dHNpZGUiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtRWxlbWVudCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0cyIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJfc3VibWl0Q2FsbGJhY2siLCJyZXNldCIsImNvbmZpZyIsImZvcm1TZWxlY3RvciIsImVycm9yQ2xhc3MiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwiYnV0dG9uIiwiZWRpdEJ0biIsImFkZEJ0biIsImF2YXRhckJ0biIsImVkaXRQcm9maWxlTW9kYWwiLCJhZGRDYXJkTW9kYWwiLCJlZGl0QXZhdGFyTW9kYWwiLCJhZGRDYXJkRm9ybSIsImVkaXRQcm9maWxlRm9ybSIsImVkaXRBdmF0YXJGb3JtIiwiY2FyZFRpdGxlIiwiY2FyZExpbmsiLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVTdWJ0aXRsZSIsInByb2ZpbGVBdmF0YXIiLCJlbGVtZW50cyIsImFwaSIsIm9wdGlvbnMiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfZ2V0UmVzcG9uc2VEYXRhIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGUiLCJ1c2VyIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkQXBpIiwiY2FyZCIsImRlbGV0ZUNhcmQiLCJwaG90b0lkIiwibGlrZSIsInVubGlrZSIsInVwZGF0ZUF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJhYm91dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwidXNlckluZm8iLCJfbmFtZSIsIl9qb2IiLCJzZXRVc2VySW5mbyIsImpvYiIsImFkZEZvcm1WYWxpZGF0b3IiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImltYWdlTW9kYWwiLCJuZXdBZGRDYXJkTW9kYWwiLCJhZGRTdWJtaXRCdG4iLCJsYXN0RWxlbWVudENoaWxkIiwic3VibWl0T2JqZWN0IiwiY2FyZExpc3QiLCJhZGRJdGVtU3RhcnQiLCJnZW5lcmF0ZUNhcmQiLCJmaW5hbGx5IiwibmV3RWRpdFByb2ZpbGVNb2RhbCIsImVkaXRTdWJtaXRCdG4iLCJwcm9mZXNzaW9uIiwibmV3RWRpdEF2YXRhck1vZGFsIiwiYXZhdGFyU3VibWl0QnRuIiwibmV3Q2FyZCIsInJlbmRlciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJhZGRJdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiXSwic291cmNlUm9vdCI6IiJ9